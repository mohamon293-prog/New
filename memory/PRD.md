# Gamelo - منصة الألعاب الرقمية

## المشكلة الأصلية
بناء منصة رقمية متكاملة لبيع أكواد الألعاب والاشتراكات باللغة العربية.

## التقنيات المستخدمة
- **Frontend**: React + Vite + TailwindCSS + Shadcn UI
- **Backend**: FastAPI + Python
- **Database**: MongoDB
- **Email Service**: Resend (للتحقق من البريد واستعادة كلمة المرور)

## الميزات المُنجزة

### نظام المصادقة ✅
- [x] تسجيل الدخول / إنشاء حساب
- [x] التحقق من البريد الإلكتروني عبر OTP (Resend)
- [x] استعادة كلمة المرور عبر OTP
- [x] JWT Authentication
- [x] نظام الأدوار والصلاحيات (RBAC)

### إدارة المنتجات ✅
- [x] أنواع المنتجات: كود رقمي، حساب موجود، حساب جديد
- [x] إضافة/تعديل/حذف المنتجات
- [x] إدارة الأكواد الرقمية
- [x] استيراد بالجملة عبر Excel/CSV
- [x] نظام التصنيفات
- [x] المنتجات المميزة

### نظام الطلبات ✅
- [x] سلة التسوق
- [x] عملية الشراء
- [x] تسليم الأكواد الرقمية تلقائياً
- [x] تسليم الحسابات يدوياً (بواسطة المشرف)
- [x] تتبع حالة الطلب
- [x] دعم كوبونات الخصم في الطلبات

### نظام المحفظة ✅
- [x] رصيد المحفظة للمستخدمين
- [x] الشراء من المحفظة
- [x] إضافة/خصم الرصيد (للمشرفين)
- [x] سجل المعاملات

### نظام الكوبونات المتقدم ✅ (جديد)
- [x] كوبونات عادية (نسبة مئوية / مبلغ ثابت)
- [x] كوبونات خاصة بمنتجات محددة
- [x] نظام المسوقين/المعلنين (Affiliates)
- [x] تتبع استخدام كوبونات المسوقين
- [x] حساب العمولات للمسوقين
- [x] إحصائيات مفصلة لكل مسوق (المبيعات، العمولة، ربح المتجر)
- [x] سجل الطلبات لكل مسوق
- [x] تقارير المنتجات المباعة عبر كل كوبون

### لوحة التحكم ✅
- [x] إحصائيات شاملة
- [x] إدارة المستخدمين
- [x] إدارة المنتجات
- [x] إدارة الطلبات
- [x] إدارة الأقسام
- [x] إدارة المسوقين والمعلنين (جديد)
- [x] تحليلات متقدمة (يومي/أسبوعي/شهري)
- [x] سجل النشاطات (Audit Log)
- [x] إدارة البنرات والسلايدر

### واجهة المستخدم ✅
- [x] تصميم RTL عربي كامل
- [x] الصفحة الرئيسية مع إحصائيات حية
- [x] صفحات المنتجات
- [x] صفحة تفاصيل المنتج
- [x] صفحة الطلبات
- [x] صفحة المحفظة
- [x] صفحة الملف الشخصي

## APIs الجديدة

### Affiliates API
- `POST /api/admin/affiliates` - إنشاء مسوق
- `GET /api/admin/affiliates` - قائمة المسوقين
- `GET /api/admin/affiliates/{id}` - تفاصيل المسوق
- `PUT /api/admin/affiliates/{id}` - تحديث المسوق
- `DELETE /api/admin/affiliates/{id}` - حذف المسوق
- `POST /api/admin/affiliates/{id}/coupons` - إنشاء كوبون للمسوق
- `GET /api/admin/affiliates/{id}/stats` - إحصائيات المسوق

## المهام القادمة (P1)
- [ ] لوحة تحكم خاصة للمسوقين (affiliate dashboard)
- [ ] نظام الرسائل/الدعم الداخلي
- [ ] فلترة وترتيب متقدم للمنتجات
- [ ] تحسينات UX (loading skeletons)

## المهام المستقبلية (P2)
- [ ] نظام مكافحة الاحتيال
- [ ] محرك التوصيات الذكية
- [ ] المهام المجدولة
- [ ] فواتير PDF
- [ ] Feature Toggles
- [ ] خطة النسخ الاحتياطي

## بيانات الاختبار
- **Admin**: admin@gamelo.com / admin123
- **Test Affiliate**: أحمد المسوق (ahmed@marketer.com)
- **Test Coupon**: AHMED20 (20% خصم، 8% عمولة)

## ملاحظات هامة
- Resend في وضع الاختبار يرسل فقط للإيميلات المُحققة
- يجب تحقق النطاق في Resend لإرسال إيميلات من Contact@gamelo.org

## تاريخ التحديث
- **11 يناير 2026**: 
  - إضافة نظام المسوقين والمعلنين
  - كوبونات خاصة بمنتجات محددة
  - تتبع المبيعات والعمولات
  - إصلاح نظام استعادة كلمة المرور
